@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap');
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Noto Sans KR', sans-serif; background: #f5f7fa; min-height: 100vh; }

/* ── 헤더 ── */
.campus-header { background: linear-gradient(135deg, #1a365d, #2c5282); color: #fff; padding: .8rem 0; box-shadow: 0 2px 10px rgba(0,0,0,.15); position: sticky; top: 0; z-index: 300; }
.campus-header h1 { font-size: 1.4rem; font-weight: 700; }
.campus-header .subtitle { font-size: .8rem; opacity: .7; }
.user-display { display: flex; align-items: center; gap: 8px; font-size: .88rem; }
.user-display .user-name { font-weight: 600; }
.user-display .user-role { font-size: .72rem; background: rgba(255,255,255,.2); padding: 2px 8px; border-radius: 10px; }

/* ── 맵 ── */
.map-container { position: relative; width: 900px; max-width: 100%; margin: 2rem auto; border-radius: 12px; overflow: hidden; box-shadow: 0 8px 32px rgba(0,0,0,.12); }
.map-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
.map-overlay polygon { fill: transparent; stroke: transparent; stroke-width: 1.5; cursor: pointer; transition: fill .25s, stroke .25s; }
.map-overlay polygon.rentable:hover { fill: rgba(66,133,244,.35); stroke: rgba(66,133,244,.9); stroke-width: 2.5; }
.map-overlay polygon.not-rentable:hover { fill: rgba(150,150,150,.3); stroke: rgba(150,150,150,.7); stroke-width: 2; cursor: default; }
.building-tooltip { position: absolute; background: rgba(26,54,93,.95); color: #fff; padding: 10px 16px; border-radius: 8px; font-size: .85rem; pointer-events: none; opacity: 0; transition: opacity .2s; z-index: 100; white-space: nowrap; box-shadow: 0 4px 12px rgba(0,0,0,.25); }
.building-tooltip.visible { opacity: 1; }
.tt-name { font-weight: 700; font-size: .95rem; margin-bottom: 2px; }
.tt-info { font-weight: 300; font-size: .78rem; opacity: .85; }
.tt-badge { display: inline-block; margin-top: 4px; padding: 1px 8px; border-radius: 10px; font-size: .72rem; font-weight: 500; }
.tt-badge.yes { background: rgba(72,187,120,.3); color: #68d391; }
.tt-badge.no { background: rgba(245,101,101,.3); color: #fc8181; }
.map-legend { position: absolute; bottom: 16px; left: 16px; background: rgba(255,255,255,.92); backdrop-filter: blur(8px); padding: 12px 16px; border-radius: 8px; font-size: .78rem; box-shadow: 0 2px 8px rgba(0,0,0,.1); }
.legend-item { display: flex; align-items: center; gap: 8px; margin-bottom: 4px; }
.legend-item:last-child { margin-bottom: 0; }
.legend-color { width: 16px; height: 16px; border-radius: 3px; border: 1px solid rgba(0,0,0,.1); }
.map-instruction { text-align: center; color: #718096; font-size: .85rem; margin-bottom: 1rem; }

/* ── 건물 상세 ── */
.breadcrumb-nav { padding: 12px 0; font-size: .8rem; color: #a0aec0; border-bottom: 1px solid #f0f0f0; background: #fff; }
.breadcrumb-nav a { color: #718096; text-decoration: none; }
.breadcrumb-nav a:hover { color: #2c5282; }
.breadcrumb-nav .sep { margin: 0 8px; }
.breadcrumb-nav .current { color: #2d3748; font-weight: 500; }

.store-info-area { background: #fff; border-bottom: 1px solid #e2e8f0; padding: 2rem 0; }
.store-name { font-size: 2rem; font-weight: 900; color: #1a365d; }
.store-name .back-link { font-size: .85rem; font-weight: 400; color: #718096; text-decoration: none; cursor: pointer; margin-left: 12px; vertical-align: middle; }
.store-name .back-link:hover { color: #2c5282; text-decoration: underline; }

.info-grid { display: flex; gap: 0; margin-top: 1.5rem; border: 1px solid #e2e8f0; border-radius: 10px; overflow: hidden; }
.info-col { flex: 1; padding: 24px 28px; border-right: 1px solid #e2e8f0; display: flex; flex-direction: column; justify-content: center; min-height: 200px; }
.info-col:last-child { border-right: none; }

.semester-box { text-align: center; }
.semester-icon { font-size: 2.5rem; margin-bottom: .5rem; }
.semester-label { font-size: .8rem; color: #a0aec0; margin-bottom: 2px; }
.semester-value { font-size: 1.15rem; font-weight: 700; color: #2d3748; }
.semester-sub { font-size: .82rem; color: #718096; margin-top: 4px; }

.hours-list { list-style: none; padding: 0; margin: 0; }
.hours-list li { display: flex; align-items: center; gap: 8px; font-size: .88rem; color: #4a5568; padding: 5px 0; border-bottom: 1px solid #f0f0f0; }
.hours-list li:last-child { border-bottom: none; }
.hours-list li .hours-icon { color: #a0aec0; font-size: .8rem; }
.hours-today { margin-top: 12px; padding: 10px 16px; background: #f7fafc; border-radius: 8px; font-size: .85rem; color: #2d3748; }
.hours-today strong { color: #2c5282; }

/* 달력 */
.cal-header { display: flex; align-items: baseline; gap: 8px; margin-bottom: 10px; }
.cal-month-num { font-size: 2.5rem; font-weight: 900; color: #1a365d; line-height: 1; }
.cal-month-name { font-size: .8rem; color: #a0aec0; }
.cal-year { font-size: 1.2rem; color: #cbd5e0; font-weight: 300; }
.cal-table { width: 100%; border-collapse: collapse; text-align: center; }
.cal-table th { font-size: .75rem; font-weight: 500; color: #a0aec0; padding: 4px 0 8px; }
.cal-table th:first-child { color: #f56565; }
.cal-table td { padding: 3px 2px; font-size: .82rem; color: #4a5568; position: relative; }
.cal-table td .day-num { width: 28px; height: 28px; line-height: 28px; border-radius: 50%; display: inline-block; transition: all .15s; cursor: default; }
.cal-table td.sunday .day-num { color: #f56565; }
.cal-table td.saturday .day-num { color: #4299e1; }
.cal-table td.today .day-num { border: 2px solid #a0aec0; font-weight: 700; }
.cal-table td.res-full .day-num { background: #fed7d7; color: #c53030; font-weight: 600; }
.cal-table td.res-partial .day-num { background: #fefcbf; color: #b7791f; font-weight: 600; }
.cal-table td.res-empty .day-num { background: #c6f6d5; color: #276749; font-weight: 600; }
.cal-table td.other-month .day-num { color: #e2e8f0; }
.cal-table td.selected .day-num { background: #1a365d !important; color: #fff !important; font-weight: 700; }
.cal-legend { display: flex; gap: 12px; margin-top: 8px; justify-content: flex-end; }
.cal-legend-item { display: flex; align-items: center; gap: 3px; font-size: .68rem; color: #718096; }
.cal-legend-dot { width: 8px; height: 8px; border-radius: 50%; }
.cal-legend-dot.full { background: #fed7d7; }
.cal-legend-dot.partial { background: #fefcbf; }
.cal-legend-dot.empty { background: #c6f6d5; }
.cal-legend-dot.today-dot { border: 2px solid #a0aec0; background: #fff; }

/* ── 탭 ── */
.building-tabs { background: #1a365d; text-align: center; padding: 0; border-bottom: 1px solid rgba(255,255,255,.1); position: sticky; top: 52px; z-index: 250; }
.building-tabs button { background: none; border: none; color: rgba(255,255,255,.6); padding: 14px 28px; font-size: .95rem; font-weight: 500; cursor: pointer; transition: all .2s; position: relative; font-family: 'Noto Sans KR', sans-serif; }
.building-tabs button:hover { color: rgba(255,255,255,.9); }
.building-tabs button.active { color: #fff; font-weight: 700; }
.building-tabs button.active::after { content: ''; position: absolute; bottom: 0; left: 50%; transform: translateX(-50%); width: 60%; height: 3px; background: #fff; border-radius: 2px 2px 0 0; }

/* ── 층별 안내 ── */
.floor-guide { display: flex; min-height: calc(100vh - 280px); }
.floor-list { width: 340px; min-width: 340px; border-right: 1px solid #e2e8f0; background: #fff; }
.floor-item { display: flex; align-items: center; gap: 16px; padding: 20px 28px; border-bottom: 1px solid #f0f0f0; cursor: pointer; transition: all .2s; }
.floor-item:hover { background: #f7fafc; }
.floor-item.active { background: #1a365d; color: #fff; }
.floor-item .floor-num { font-size: 1.4rem; font-weight: 900; min-width: 48px; }
.floor-item .floor-desc { font-size: .85rem; opacity: .7; }
.floor-item .floor-pin { margin-left: auto; width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: .75rem; background: #edf2f7; color: #718096; }
.floor-item.active .floor-pin { background: rgba(255,255,255,.2); color: #fff; }
.floor-item.active .floor-desc { opacity: .85; }
.floor-detail { flex: 1; padding: 32px 40px; background: #fafbfc; }
.floor-detail-header { margin-bottom: 24px; padding-bottom: 16px; border-bottom: 2px solid #1a365d; }
.floor-detail-header h3 { font-size: 1.8rem; font-weight: 900; color: #1a365d; }
.floor-detail-header .floor-subtitle { font-size: .85rem; color: #718096; margin-top: 4px; }

.room-category { margin-bottom: 24px; }
.room-category-title { font-size: .95rem; font-weight: 700; color: #2d3748; margin-bottom: 12px; padding-left: 12px; border-left: 3px solid #2c5282; }
.room-category-count { font-weight: 400; color: #a0aec0; margin-left: 8px; font-size: .85rem; }
.room-row { display: flex; align-items: center; justify-content: space-between; padding: 14px 16px; border-bottom: 1px solid #edf2f7; cursor: pointer; transition: all .15s; border-radius: 6px; }
.room-row:hover { background: #ebf8ff; transform: translateX(4px); }
.room-row .room-name { font-weight: 500; font-size: .9rem; color: #2d3748; }
.room-row .room-cap { font-size: .78rem; color: #a0aec0; }
.room-status-dot { width: 10px; height: 10px; border-radius: 50%; margin-right: 10px; flex-shrink: 0; }
.room-status-dot.available { background: #48bb78; }
.room-status-dot.partial { background: #ed8936; }
.room-status-dot.full { background: #f56565; }
.status-legend { display: flex; gap: 16px; font-size: .78rem; color: #718096; }
.status-legend-item { display: flex; align-items: center; gap: 4px; }

/* ── 예약 현황 ── */
.reservation-view { display: flex; min-height: calc(100vh - 280px); }
.rv-room-list { width: 280px; min-width: 280px; border-right: 1px solid #e2e8f0; background: #fff; overflow-y: auto; }
.rv-floor-label { padding: 10px 20px; font-size: .78rem; font-weight: 700; color: #a0aec0; background: #f7fafc; border-bottom: 1px solid #edf2f7; text-transform: uppercase; letter-spacing: .05em; }
.rv-room-item { padding: 12px 20px; border-bottom: 1px solid #f0f0f0; cursor: pointer; transition: all .15s; font-size: .85rem; display: flex; align-items: center; gap: 8px; }
.rv-room-item:hover { background: #f7fafc; }
.rv-room-item.active { background: #1a365d; color: #fff; }
.rv-main { flex: 1; display: flex; flex-direction: column; background: #fafbfc; }
.rv-content { display: flex; flex: 1; }
.rv-calendar-side { width: 300px; min-width: 300px; padding: 24px; border-right: 1px solid #e2e8f0; background: #fff; }
.rv-mini-cal .cal-table td .day-num { cursor: pointer; }
.rv-mini-cal .cal-table td .day-num:hover { background: #e2e8f0; }
.rv-timeline-side { flex: 1; padding: 24px 32px; overflow-y: auto; }
.rv-timeline-header { margin-bottom: 20px; }
.rv-timeline-header h4 { font-size: 1.3rem; font-weight: 700; color: #1a365d; }
.rv-timeline-header .rv-date-sub { font-size: .82rem; color: #718096; margin-top: 2px; }

/* 타임라인 */
.timeline { position: relative; }
.tl-slot { display: flex; align-items: stretch; min-height: 52px; border-bottom: 1px solid #f0f0f0; transition: background .15s; }
.tl-time { width: 70px; min-width: 70px; padding: 14px 12px 14px 0; text-align: right; font-size: .82rem; font-weight: 500; color: #a0aec0; }
.tl-content { flex: 1; padding: 8px 12px; position: relative; }
.tl-empty { color: #cbd5e0; font-size: .82rem; padding: 14px 0; cursor: pointer; border-radius: 6px; transition: all .15s; }
.tl-empty:hover { background: #ebf8ff; color: #4299e1; }
.tl-booked { border-radius: 8px; padding: 10px 14px; font-size: .82rem; color: #fff; position: relative; }
.tl-booked.approved { background: linear-gradient(135deg, #2c5282, #3182ce); }
.tl-booked.pending { background: repeating-linear-gradient(45deg, #ed8936, #ed8936 10px, #dd6b20 10px, #dd6b20 20px); animation: stripe-move 1s linear infinite; }
@keyframes stripe-move { 0% { background-position: 0 0; } 100% { background-position: 28px 0; } }
.tl-booked .tl-title { font-weight: 600; font-size: .85rem; }
.tl-booked .tl-detail { font-size: .75rem; opacity: .85; margin-top: 2px; }
.tl-booked .tl-status-tag { position: absolute; top: 8px; right: 10px; font-size: .68rem; padding: 2px 8px; border-radius: 10px; background: rgba(255,255,255,.25); }

/* ── 모달 공용 ── */
.modal-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,.4); z-index: 400; display: flex; align-items: center; justify-content: center; }
.modal-bg.show { display: flex; }
.modal-box { background: #fff; border-radius: 12px; width: 480px; max-width: 95%; max-height: 90vh; overflow-y: auto; box-shadow: 0 20px 60px rgba(0,0,0,.2); }
.modal-hd { background: linear-gradient(135deg, #1a365d, #2c5282); color: #fff; padding: 20px 24px; border-radius: 12px 12px 0 0; position: relative; }
.modal-hd h3 { font-size: 1.2rem; font-weight: 700; }
.modal-hd .modal-sub { font-size: .82rem; opacity: .8; margin-top: 4px; }
.modal-bd { padding: 24px; }
.modal-bd .form-label { font-size: .85rem; font-weight: 600; color: #2d3748; }
.modal-bd .form-control, .modal-bd .form-select { font-size: .88rem; }
.modal-ft { padding: 16px 24px; border-top: 1px solid #e2e8f0; display: flex; justify-content: flex-end; gap: 8px; }
.modal-close { position: absolute; top: 16px; right: 16px; background: rgba(255,255,255,.2); border: none; color: #fff; width: 28px; height: 28px; border-radius: 50%; cursor: pointer; font-size: 1rem; display: flex; align-items: center; justify-content: center; }

/* ── 회원유형 카드 ── */
.role-cards { display: flex; gap: 12px; margin-bottom: 16px; }
.role-card { flex: 1; border: 2px solid #e2e8f0; border-radius: 10px; padding: 16px 12px; text-align: center; cursor: pointer; transition: all .2s; }
.role-card:hover { border-color: #4299e1; background: #ebf8ff; }
.role-card.selected { border-color: #2c5282; background: #ebf8ff; box-shadow: 0 0 0 3px rgba(66,153,225,.3); }
.role-card .role-icon { font-size: 2rem; margin-bottom: 6px; }
.role-card .role-label { font-size: .9rem; font-weight: 700; color: #2d3748; }
.role-card .role-desc { font-size: .72rem; color: #718096; margin-top: 2px; }

/* ── 인증 탭 ── */
.auth-tabs { display: flex; border-bottom: 2px solid #e2e8f0; margin-bottom: 20px; }
.auth-tab { flex: 1; text-align: center; padding: 10px; font-size: .9rem; font-weight: 500; color: #a0aec0; cursor: pointer; border-bottom: 2px solid transparent; margin-bottom: -2px; transition: all .2s; }
.auth-tab.active { color: #1a365d; font-weight: 700; border-bottom-color: #1a365d; }
